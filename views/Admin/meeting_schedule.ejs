<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Meeting Schedules</title>
</head>
<body>
  <h1>ðŸ“… Interest Group Meeting Schedules</h1>

  <% if (success && success.length > 0) { %>
    <div style="color: green;"><%= success[0] %></div>
  <% } %>

  <% if (errors && errors.length > 0) { %>
    <div style="color: red;"><%= errors[0] %></div>
  <% } %>

  <form method="GET" action="/meeting_schedule">
    <input type="text" name="search" placeholder="Search IG name" value="<%= searchTerm || '' %>">
    <button type="submit">Search</button>
  </form>

  <table border="1" cellpadding="8" cellspacing="0" style="margin-top: 10px;">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Meeting Schedule</th>
        <th>Advisor</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% if (schedules.length === 0) { %>
        <tr><td colspan="5">No schedules found.</td></tr>
      <% } else { %>
        <% schedules.forEach(schedule => { %>
          <tr>
            <td><%= schedule.id %></td>
            <td><%= schedule.name %></td>
            <td><%= new Date(schedule.meeting_schedule).toLocaleString() %></td>
            <td><%= schedule.advisor %></td>
            <td>
              <a href="/edit_schedule/<%= schedule.id %>">Edit</a>

              <!-- Delete Form -->
              <form method="POST" action="/delete_schedule/<%= schedule.id %>" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this?');">
                <button type="submit" style="background:none; border:none; color:red; cursor:pointer; padding:0; margin-left:8px;">Delete</button>
              </form>
            </td>
          </tr>
        <% }) %>
      <% } %>
    </tbody>
  </table>

  <br />
  <a href="/schedule/new">Create New Schedule</a>
</body>
</html>
